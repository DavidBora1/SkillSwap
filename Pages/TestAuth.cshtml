@page
@model SkillSwap.Pages.TestAuthModel
@{
    ViewData["Title"] = "Test Autenticazione";
}

<h1>Test Autenticazione</h1>

<div class="row">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">
                <h5>Stato autenticazione</h5>
            </div>
            <div class="card-body">
                <p>Autenticato: <strong>@User.Identity?.IsAuthenticated</strong></p>
                @if (User.Identity?.IsAuthenticated == true)
                {
                    <p>Nome utente: <strong>@User.Identity.Name</strong></p>
                }
                <p>Cookie presenti: <strong>@Request.Cookies.Count</strong></p>
                <hr />
                <h5>Cookie attivi:</h5>
                <ul>
                    @foreach (var cookie in Request.Cookies)
                    {
                        <li><strong>@cookie.Key</strong>: @(cookie.Key.StartsWith(".AspNetCore") ? "[Protected]" : cookie.Value)</li>
                    }
                </ul>
            </div>
            <div class="card-footer">
                <a href="/TestAuth/ClearCookies" class="btn btn-warning">Pulisci cookie</a>
                <a href="/" class="btn btn-secondary">Torna alla home</a>
            </div>
        </div>
    </div>
</div>